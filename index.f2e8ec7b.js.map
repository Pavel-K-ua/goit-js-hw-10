{"mappings":"AAMA,MAIQA,EAAO,CAIbC,OAAQC,SAASC,cAAc,iBAC/BC,QAASF,SAASC,cAAc,aAChCE,SAAUH,SAASC,cAAc,WACjCG,QAASJ,SAASC,cAAc,UAChCI,OAAQL,SAASM,MAGnBR,EAAKM,QAAQG,UAAUC,IAAI,aAE3BV,EAAKC,OAAOQ,UAAUC,IAAI,aAE1BC,MAnBkB,sCAmBD,CACfC,QAAS,CACP,YAnBF,2EAsBCC,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhB,MAAM,IAAIC,KAEY,IAGzBJ,MAAKK,IACJlB,EAAKC,OAAOQ,UAAUU,OAAO,aAC7BnB,EAAKK,SAASI,UAAUC,IAAI,aAIhC,SAAoBU,GAClB,MAAMC,EAAUD,EACbE,KACCC,GAAO,wBACQA,EAAIC,OAAOD,EAAIE,wBAG/BC,KAAK,IACR1B,EAAKC,OAAO0B,mBAAmB,YAAaN,E,CAX1CO,CAAWV,EAAK,IACjBW,OAAMC,GAAS9B,EAAKM,QAAQG,UAAUU,OAAO,eAahDnB,EAAKC,OAAO8B,iBAAiB,UAE7B,SAAmBC,GACjBA,EAAMC,iBACN,MAAMC,EAAsBlC,EAAKC,OAAOkC,MAGtCnC,EAAKC,OAAOmC,QAAQpC,EAAKC,OAAOoC,eAAeC,KAGjD3B,MAFkB,wDAAwDuB,IAEzD,CACftB,QAAS,CACP,YA1DJ,2EA6DGC,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhB,MAAM,IAAIC,KAEY,IAGzBJ,MAAKK,IACJlB,EAAKI,QAAQmC,UAAY,GACzBvC,EAAKI,QAAQK,UAAUC,IAAI,aAC3BV,EAAKK,SAASI,UAAUU,OAAO,aAgBrC,SAAmBI,GACjB,MAAMiB,EAAS,IAAKjB,EAAIiB,OAAO,IACzBC,EAAS,yBACDlB,EAAImB,yBACVF,EAAOf,qBACRe,EAAOG,2BACPH,EAAOI,kBACd5C,EAAKI,QAAQuB,mBAAmB,YAAac,E,CArBzCI,IAAa3B,EAAK,IAEnBW,OAAMC,IACL9B,EAAKI,QAAQmC,UAAY,GACzBvC,EAAKM,QAAQG,UAAUU,OAAO,YAAY,IAE3C2B,SAAQ,KACPC,YAAW,KACT/C,EAAKK,SAASI,UAAUC,IAAI,aAC5BV,EAAKI,QAAQK,UAAUU,OAAO,YAAY,GACzC,IAAK,G","sources":["src/index.js"],"sourcesContent":["// import SlimSelect from 'slim-select'\n// import refs from \"./refs\"\n// new SlimSelect({\n//   select: '#single'\n// })\n\nconst urlBreeds = `https://api.thecatapi.com/v1/breeds`;\nconst api_key =\n  'live_Mfoctkyb81AdTnvkuASKbgDMF3qZlosxU5mxt0kho40Taaq9x32aHUfQTzhcu54D';\n\n  const refs = {\n  // select: new SlimSelect({\n  //     select: '#selectElement'\n  //   }),\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loaderEl: document.querySelector('.loader'),\n  errorEl: document.querySelector('.error'),\n  bodyEl: document.body,\n};\n\nrefs.errorEl.classList.add('is-hidden');\n// refs.loaderEl.classList.add('is-hidden');\nrefs.select.classList.add('is-hidden');\n\nfetch(urlBreeds, {\n  headers: {\n    'x-api-key': api_key,\n  },\n})\n  .then(response => {\n    if (!response.ok) {\n      throw new Error();\n    } else {\n      return response.json();\n    }\n  })\n  .then(data => {\n    refs.select.classList.remove('is-hidden');\n    refs.loaderEl.classList.add('is-hidden');\n    fillSelect(data)})\n  .catch(error => refs.errorEl.classList.remove('is-hidden'));\n\nfunction fillSelect(cats) {\n  const catsArr = cats\n    .map(\n      cat => `\n    <option value=\"${cat.id}\">${cat.name}</option>\n    `\n    )\n    .join('');\n  refs.select.insertAdjacentHTML('beforeend', catsArr);\n}\n\nrefs.select.addEventListener('change', setOutput);\n\nfunction setOutput(event) {\n  event.preventDefault();\n  const selectedOptionValue = refs.select.value;\n  //   const selectedOptionIndex = refs.select.selectedIndex;\n  const selectedOptionText =\n    refs.select.options[refs.select.selectedIndex].text;\n  const urlImages = `https://api.thecatapi.com/v1/images/search?breed_ids=${selectedOptionValue}`;\n\n  fetch(urlImages, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      } else {\n        return response.json();\n      }\n    })\n    .then(data => {\n      refs.catInfo.innerHTML = '';\n      refs.catInfo.classList.add('is-hidden');\n      refs.loaderEl.classList.remove('is-hidden');\n\n      renderCat(...data);\n    })\n    .catch(error => {\n      refs.catInfo.innerHTML = '';\n      refs.errorEl.classList.remove('is-hidden');\n    })\n    .finally(() => {\n      setTimeout(() => {\n        refs.loaderEl.classList.add('is-hidden');\n        refs.catInfo.classList.remove('is-hidden');\n      }, 1000);\n    });\n}\n\nfunction renderCat(cat) {\n  const breeds = { ...cat.breeds[0] };\n  const markup = `      \n    <img src=\"${cat.url}\" alt=\"\">\n    <h2>${breeds.name}</h2>\n    <p>${breeds.description}</p>\n    <p>${breeds.temperament}</p>`;\n  refs.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$1f0dc3b9307be026$var$refs","select","document","querySelector","catInfo","loaderEl","errorEl","bodyEl","body","classList","add","fetch","headers","then","response","ok","json","Error","data","remove","cats","catsArr","map","cat","id","name","join","insertAdjacentHTML","$1f0dc3b9307be026$var$fillSelect","catch","error","addEventListener","event","preventDefault","selectedOptionValue","value","options","selectedIndex","text","innerHTML","breeds","markup","url","description","temperament","$1f0dc3b9307be026$var$renderCat","finally","setTimeout"],"version":3,"file":"index.f2e8ec7b.js.map"}