{"mappings":"AAMA,MAIQA,EAAO,CAIbC,OAAQC,SAASC,cAAc,iBAC/BC,QAASF,SAASC,cAAc,aAChCE,SAAUH,SAASC,cAAc,WACjCG,QAASJ,SAASC,cAAc,UAChCI,OAAQL,SAASM,MAGnBR,EAAKM,QAAQG,UAAUC,IAAI,aAC3BV,EAAKK,SAASI,UAAUC,IAAI,aAE5BC,MAlBkB,sCAkBD,CACfC,QAAS,CACP,YAlBF,2EAqBCC,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhB,MAAM,IAAIC,KAEY,IAGzBJ,MAAKK,GAGR,SAAoBC,GAClB,MAAMC,EAAUD,EACbE,KACCC,GAAO,wBACQA,EAAIC,OAAOD,EAAIE,wBAG/BC,KAAK,IACRzB,EAAKC,OAAOyB,mBAAmB,YAAaN,E,CAX9BO,CAAWT,KACxBU,OAAMC,GAAS7B,EAAKM,QAAQG,UAAUqB,OAAO,eAahD9B,EAAKC,OAAO8B,iBAAiB,UAE7B,SAAmBC,GACjBA,EAAMC,iBACN,MAAMC,EAAsBlC,EAAKC,OAAOkC,MAGtCnC,EAAKC,OAAOmC,QAAQpC,EAAKC,OAAOoC,eAAeC,KAGjD3B,MAFkB,wDAAwDuB,IAEzD,CACftB,QAAS,CACP,YAtDJ,2EAyDGC,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhB,MAAM,IAAIC,KAEY,IAGzBJ,MAAKK,IACJlB,EAAKI,QAAQmC,UAAY,GACzBvC,EAAKI,QAAQK,UAAUC,IAAI,aAC3BV,EAAKK,SAASI,UAAUqB,OAAO,aAgBrC,SAAmBR,GACjB,MAAMkB,EAAS,IAAKlB,EAAIkB,OAAO,IACzBC,EAAS,yBACDnB,EAAIoB,yBACVF,EAAOhB,qBACRgB,EAAOG,2BACPH,EAAOI,kBACd5C,EAAKI,QAAQsB,mBAAmB,YAAae,E,CArBzCI,IAAa3B,EAAK,IAEnBU,OAAMC,IACL7B,EAAKI,QAAQmC,UAAY,GACzBvC,EAAKM,QAAQG,UAAUqB,OAAO,YAAY,IAE3CgB,SAAQ,KACPC,YAAW,KACT/C,EAAKK,SAASI,UAAUC,IAAI,aAC5BV,EAAKI,QAAQK,UAAUqB,OAAO,YAAY,GACzC,IAAK,G","sources":["src/index.js"],"sourcesContent":["// import SlimSelect from 'slim-select'\n// import refs from \"./refs\"\n// new SlimSelect({\n//   select: '#single'\n// })\n\nconst urlBreeds = `https://api.thecatapi.com/v1/breeds`;\nconst api_key =\n  'live_Mfoctkyb81AdTnvkuASKbgDMF3qZlosxU5mxt0kho40Taaq9x32aHUfQTzhcu54D';\n\n  const refs = {\n  // select: new SlimSelect({\n  //     select: '#selectElement'\n  //   }),\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loaderEl: document.querySelector('.loader'),\n  errorEl: document.querySelector('.error'),\n  bodyEl: document.body,\n};\n\nrefs.errorEl.classList.add('is-hidden');\nrefs.loaderEl.classList.add('is-hidden');\n\nfetch(urlBreeds, {\n  headers: {\n    'x-api-key': api_key,\n  },\n})\n  .then(response => {\n    if (!response.ok) {\n      throw new Error();\n    } else {\n      return response.json();\n    }\n  })\n  .then(data => fillSelect(data))\n  .catch(error => refs.errorEl.classList.remove('is-hidden'));\n\nfunction fillSelect(cats) {\n  const catsArr = cats\n    .map(\n      cat => `\n    <option value=\"${cat.id}\">${cat.name}</option>\n    `\n    )\n    .join('');\n  refs.select.insertAdjacentHTML('beforeend', catsArr);\n}\n\nrefs.select.addEventListener('change', setOutput);\n\nfunction setOutput(event) {\n  event.preventDefault();\n  const selectedOptionValue = refs.select.value;\n  //   const selectedOptionIndex = refs.select.selectedIndex;\n  const selectedOptionText =\n    refs.select.options[refs.select.selectedIndex].text;\n  const urlImages = `https://api.thecatapi.com/v1/images/search?breed_ids=${selectedOptionValue}`;\n\n  fetch(urlImages, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      } else {\n        return response.json();\n      }\n    })\n    .then(data => {\n      refs.catInfo.innerHTML = '';\n      refs.catInfo.classList.add('is-hidden');\n      refs.loaderEl.classList.remove('is-hidden');\n\n      renderCat(...data);\n    })\n    .catch(error => {\n      refs.catInfo.innerHTML = '';\n      refs.errorEl.classList.remove('is-hidden');\n    })\n    .finally(() => {\n      setTimeout(() => {\n        refs.loaderEl.classList.add('is-hidden');\n        refs.catInfo.classList.remove('is-hidden');\n      }, 1000);\n    });\n}\n\nfunction renderCat(cat) {\n  const breeds = { ...cat.breeds[0] };\n  const markup = `      \n    <img src=\"${cat.url}\" alt=\"\">\n    <h2>${breeds.name}</h2>\n    <p>${breeds.description}</p>\n    <p>${breeds.temperament}</p>`;\n  refs.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$1f0dc3b9307be026$var$refs","select","document","querySelector","catInfo","loaderEl","errorEl","bodyEl","body","classList","add","fetch","headers","then","response","ok","json","Error","data","cats","catsArr","map","cat","id","name","join","insertAdjacentHTML","$1f0dc3b9307be026$var$fillSelect","catch","error","remove","addEventListener","event","preventDefault","selectedOptionValue","value","options","selectedIndex","text","innerHTML","breeds","markup","url","description","temperament","$1f0dc3b9307be026$var$renderCat","finally","setTimeout"],"version":3,"file":"index.4946102f.js.map"}