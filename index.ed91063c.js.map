{"mappings":"AAMA,MAIQA,EAAO,CAIbC,OAAQC,SAASC,cAAc,iBAC/BC,QAASF,SAASC,cAAc,aAChCE,SAAUH,SAASC,cAAc,WACjCG,QAASJ,SAASC,cAAc,UAChCI,OAAQL,SAASM,MAGnBR,EAAKM,QAAQG,UAAUC,IAAI,aAE3BV,EAAKC,OAAOQ,UAAUC,IAAI,aAiC1BV,EAAKC,OAAOU,iBAAiB,UAE7B,SAAmBC,GACjBA,EAAMC,iBACN,MAAMC,EAAsBd,EAAKC,OAAOc,MAGtCf,EAAKC,OAAOe,QAAQhB,EAAKC,OAAOgB,eAAeC,KAGjDC,MAFkB,wDAAwDL,IAEzD,CACfM,QAAS,CACP,YA5DJ,2EA+DGC,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhB,MAAM,IAAIC,KAEY,IAGzBJ,MAAKK,IACJ1B,EAAKI,QAAQuB,UAAY,GACzB3B,EAAKI,QAAQK,UAAUC,IAAI,aAC3BV,EAAKK,SAASI,UAAUmB,OAAO,aAgBrC,SAAmBC,GACjB,MAAMC,EAAS,IAAKD,EAAIC,OAAO,IACzBC,EAAS,yBACDF,EAAIG,yBACVF,EAAOG,qBACRH,EAAOI,2BACPJ,EAAOK,kBACdnC,EAAKI,QAAQgC,mBAAmB,YAAaL,E,CArBzCM,IAAaX,EAAK,IAEnBY,OAAMC,IACLvC,EAAKI,QAAQuB,UAAY,GACzB3B,EAAKM,QAAQG,UAAUmB,OAAO,YAAY,IAE3CY,SAAQ,KACPC,YAAW,KACTzC,EAAKK,SAASI,UAAUC,IAAI,aAC5BV,EAAKI,QAAQK,UAAUmB,OAAO,YAAY,GACzC,IAAK,G","sources":["src/index.js"],"sourcesContent":["// import SlimSelect from 'slim-select'\n// import refs from \"./refs\"\n// new SlimSelect({\n//   select: '#single'\n// })\n\nconst urlBreeds = `https://api.thecatapi.com/v1/breeds`;\nconst api_key =\n  'live_Mfoctkyb81AdTnvkuASKbgDMF3qZlosxU5mxt0kho40Taaq9x32aHUfQTzhcu54D';\n\n  const refs = {\n  // select: new SlimSelect({\n  //     select: '#selectElement'\n  //   }),\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loaderEl: document.querySelector('.loader'),\n  errorEl: document.querySelector('.error'),\n  bodyEl: document.body,\n};\n\nrefs.errorEl.classList.add('is-hidden');\n// refs.loaderEl.classList.add('is-hidden');\nrefs.select.classList.add('is-hidden');\n\nfunction takeList (){\n  fetch(urlBreeds, {\n  headers: {\n    'x-api-key': api_key,\n  },\n})\n  .then(response => {\n    if (!response.ok) {\n      throw new Error();\n    } else {\n      return response.json();\n    }\n  })  .then(data => {\n    refs.select.classList.remove('is-hidden');\n    refs.loaderEl.classList.add('is-hidden');\n    fillSelect(data)})\n  .catch(error => refs.errorEl.classList.remove('is-hidden'));\n}\n\n\nfunction fillSelect(cats) {\n  const catsArr = cats\n    .map(\n      cat => `\n    <option value=\"${cat.id}\">${cat.name}</option>\n    `\n    )\n    .join('');\n  refs.select.insertAdjacentHTML('beforeend', catsArr);\n}\n\nrefs.select.addEventListener('change', setOutput);\n\nfunction setOutput(event) {\n  event.preventDefault();\n  const selectedOptionValue = refs.select.value;\n  //   const selectedOptionIndex = refs.select.selectedIndex;\n  const selectedOptionText =\n    refs.select.options[refs.select.selectedIndex].text;\n  const urlImages = `https://api.thecatapi.com/v1/images/search?breed_ids=${selectedOptionValue}`;\n\n  fetch(urlImages, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error();\n      } else {\n        return response.json();\n      }\n    })\n    .then(data => {\n      refs.catInfo.innerHTML = '';\n      refs.catInfo.classList.add('is-hidden');\n      refs.loaderEl.classList.remove('is-hidden');\n\n      renderCat(...data);\n    })\n    .catch(error => {\n      refs.catInfo.innerHTML = '';\n      refs.errorEl.classList.remove('is-hidden');\n    })\n    .finally(() => {\n      setTimeout(() => {\n        refs.loaderEl.classList.add('is-hidden');\n        refs.catInfo.classList.remove('is-hidden');\n      }, 1000);\n    });\n}\n\nfunction renderCat(cat) {\n  const breeds = { ...cat.breeds[0] };\n  const markup = `      \n    <img src=\"${cat.url}\" alt=\"\">\n    <h2>${breeds.name}</h2>\n    <p>${breeds.description}</p>\n    <p>${breeds.temperament}</p>`;\n  refs.catInfo.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["$1f0dc3b9307be026$var$refs","select","document","querySelector","catInfo","loaderEl","errorEl","bodyEl","body","classList","add","addEventListener","event","preventDefault","selectedOptionValue","value","options","selectedIndex","text","fetch","headers","then","response","ok","json","Error","data","innerHTML","remove","cat","breeds","markup","url","name","description","temperament","insertAdjacentHTML","$1f0dc3b9307be026$var$renderCat","catch","error","finally","setTimeout"],"version":3,"file":"index.ed91063c.js.map"}